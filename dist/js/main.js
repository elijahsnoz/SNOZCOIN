const CONFIG = { contractAddress: null, explorerUrl: 'https: fallbackMarketCap: 3900, refreshInterval: 60000, telegramGroup: 'snozcoin', }; function formatNumber(num) { if (num === null || num === undefined || isNaN(num)) return 'N/A'; return Number(num).toLocaleString('en-US'); } function formatCurrency(num) { if (num === null || num === undefined || isNaN(num)) return 'N/A'; return '$' + Number(num).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 }); } function formatPrice(price) { if (price === null || price === undefined || isNaN(price)) return 'N/A'; if (price < 0.01) { return '$' + Number(price).toFixed(6); } else if (price < 1) { return '$' + Number(price).toFixed(4); } else { return '$' + Number(price).toFixed(2); } } function showLoading(elementId) { const el = document.getElementById(elementId); if (el) el.innerHTML = '<span class="loading-placeholder">Loading...</span>'; } function showUnavailable(elementId, message = 'Not available yet') { const el = document.getElementById(elementId); if (el) el.innerHTML = `<span style="color:var(--muted)">${message}</span>`; } async function fetchTokenData() { try { const dexScreenerUrl = `https: return { price: null, marketCap: CONFIG.fallbackMarketCap, liquidity: null, holders: null, totalSupply: null, circulatingSupply: null, }; } catch (error) { console.error('Error fetching token data:', error); return null; } } async function updateLiveData() { console.log('Fetching live token data...'); const now = new Date(); const timeStr = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }); const lastUpdateEl = document.getElementById('last-update'); if (lastUpdateEl) { lastUpdateEl.textContent = `Last updated: ${timeStr}`; } const data = await fetchTokenData(); if (!data) { showUnavailable('token-price'); showUnavailable('market-cap'); showUnavailable('holder-count'); showUnavailable('liquidity'); return; } const priceEl = document.getElementById('token-price'); if (priceEl) { if (data.price !== null) { priceEl.textContent = formatPrice(data.price); } else if (data.marketCap && data.totalSupply) { const calculatedPrice = data.marketCap / data.totalSupply; priceEl.textContent = formatPrice(calculatedPrice) + ' (est)'; } else { showUnavailable('token-price'); } } const mcapEl = document.getElementById('market-cap'); if (mcapEl) { mcapEl.textContent = data.marketCap ? formatCurrency(data.marketCap) : 'Not available yet'; } const holdersEl = document.getElementById('holder-count'); if (holdersEl) { holdersEl.textContent = data.holders ? formatNumber(data.holders) : 'Not available yet'; } const liqEl = document.getElementById('liquidity'); if (liqEl) { liqEl.textContent = data.liquidity ? formatCurrency(data.liquidity) : 'Not available yet'; } if (data.totalSupply) { const supplyEl = document.getElementById('total-supply'); if (supplyEl) supplyEl.textContent = formatNumber(data.totalSupply); } if (data.circulatingSupply) { const circEl = document.getElementById('circulating-supply'); if (circEl) circEl.textContent = formatNumber(data.circulatingSupply); } console.log('Live data updated:', data); } function initAutoRefresh() { updateLiveData(); setInterval(() => { updateLiveData(); }, CONFIG.refreshInterval); } document.addEventListener('DOMContentLoaded', function() { const nav = document.getElementById('nav'); const toggle = document.getElementById('navToggle'); if (toggle && nav) { toggle.addEventListener('click', () => { nav.classList.toggle('show'); toggle.classList.toggle('open'); }); } document.querySelectorAll('a[href^="#"]').forEach(a => { a.addEventListener('click', function(e) { const href = this.getAttribute('href'); if (href.length > 1) { e.preventDefault(); const el = document.querySelector(href); if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' }); if (nav && nav.classList.contains('show')) nav.classList.remove('show'); } }); }); const revealItems = document.querySelectorAll('.reveal, .card, .token-card, .phase, .faq-item, .transparency-card'); const obs = new IntersectionObserver((entries) => { entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('visible'); obs.unobserve(e.target); } }); }, { threshold: 0.12 }); revealItems.forEach(i => obs.observe(i)); initAutoRefresh(); const openWP = document.getElementById('openWhitepaper'); if (openWP) { try { openWP.setAttribute('href', '/assets/SNOZCOIN_whitepaper.pdf'); openWP.setAttribute('download', 'SNOZCOIN_whitepaper.pdf'); } catch (e) { } } });